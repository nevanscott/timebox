<html>
<head>
	<style>
		body {
		  font-family: sans-serif;
		  font-size: 60vh;
		  background: green;
		  color: white;
		  text-align: center;
		  margin-top: 13vh;
		}
		body.warning {
		  background: #fee101;
		  color: black;
		}
		body.stop {
		  background: red;
		  color: white;
		}
	</style>
</head>
<body>
	<div id="time">0:00</div>
	<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
	<script>
		var total, warning, elapsed, remaining;

		start();

		function start(){
		  total = 8 * 60;
		  warning = 2 * 60;
		  elapsed = 0;
		  remaining = total;
		  var minutes = Math.floor(elapsed/60);
		  var seconds = elapsed % 60;
		  $('#time').text(minutes+':'+pad(seconds,2));
		  timer();
		}

		function timer(){
		  setTimeout(function(){
		    elapsed++;
		    remaining--;
		    console.log();
		    var minutes = Math.floor(elapsed/60);
		    var seconds = elapsed % 60;
		    $('#time').text(minutes+':'+pad(seconds,2));
		    if(elapsed==total) {
		      $('body').attr('class', 'stop');
		       $('#time').text('TIME!');
		   } else if(remaining<=warning) {
		      $('body').attr('class', 'warning');
		      timer();
		    } else {
		      timer();      
		    }
		  }, 1000);
		}

		function pad(num, size) {
		    var s = num+"";
		    while (s.length < size) s = "0" + s;
		    return s;
		}
	</script>
</body>